print "Starting GC Stress Test";

fn create_garbage() {
    var a = "some garbage string " + "to be collected";
    var b[] = { 1, 2, 3, 4, 5 };
    var c[] = { "a", "b", "c" };
    return "done";
}

// Loop enough times to likely trigger GC
for var i = 0; i < 1000; i = i + 1 {
    create_garbage();
    if (i == 500) {
        print "Halfway there...";
    }
}

print "GC Stress Test Complete";
