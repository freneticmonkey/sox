#[test]
fn TestArrays(t) {
    var arr[]
    push(arr, 1)
    push(arr, 2)
    if (len(arr) != 2) { t.Error("array len") }
    if (arr[0] != 1) { t.Error("array index") }
    arr[1] = 3
    if (arr[1] != 3) { t.Error("array set") }

    var slice = arr[0:1]
    if (len(slice) != 2) { t.Error("array range") }

    var popped = pop(arr)
    if (popped != 3) { t.Error("array pop") }
}

#[test]
fn TestTables(t) {
    var t1 = Table()
    t1["a"] = 1
    if (t1["a"] != 1) { t.Error("table set/get") }
}

#[test]
fn TestForeach(t) {
    var items[] = {1, 2, 3}
    var sum = 0
    foreach var i, v in items {
        sum = sum + v
    }
    if (sum != 6) { t.Error("foreach sum") }
}
